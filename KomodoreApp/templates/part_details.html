<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Part Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    {% load static %}
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <style>
        .details-box {
            width: 1127px;
            height: 590px;
            flex-shrink: 0;
            background: #F6F6F6;
            box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.25);
        }

        .details-img {
            width: 400px;
            height: 400px;
            flex-shrink: 0;
        }
        .hidden {
            display: inline-block;
            opacity: 0;
            width: 0;
        }
    </style>
</head>
<body>
{% include 'navbar.html' %}
<div class="container details-box mt-5 d-flex justify-content-center align-items-center gap-5">
    <div class="inter">
        <img src="{{part.image.url}}" class="card-img-top details-img" alt="{{part.name}}">
        <div>
            <p style="max-width: 400px">{{part.description}}</p>
        </div>
    </div>
    <div class="inter">
        <h2>{{part.name}}</h2>
        <div>
            <h4>{{part.price}}</h4>
        </div>
        <div>
            <h4>{{part.warranty}}</h4>
        </div>
        <div class="quantity-picker">
            <button class="quantity-btn minus-btn">-</button>
            <input type="number" class="quantity-input" value="1" min="1" max="{{part.quantity}}">
            <button class="quantity-btn plus-btn">+</button><br>
        </div>
        <div>
            {% if is_buyer %}
            {% if is_in_cart%}
            <button>GO TO CART</button>
            {% else %}
            <button>+ ADD TO CART</button>
            {% endif %}
            {% endif %}
        </div>
        <div>
            <p style="max-width: 400px">{{part.characteristics}}</p>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const minusBtn = document.querySelector('.minus-btn')
        const plusBtn = document.querySelector('.plus-btn')

        minusBtn.addEventListener('click', function () {
            const quantityInput = minusBtn.nextElementSibling
            if (quantityInput.value > 1) {
                quantityInput.value = parseInt(quantityInput.value) - 1
            }
        });

        plusBtn.addEventListener('click', function () {
            const quantityInput = plusBtn.previousElementSibling
            const maxQuantity = parseInt(quantityInput.getAttribute("max"))

            if (quantityInput.value < maxQuantity) {
                quantityInput.value = parseInt(quantityInput.value) + 1;
            }
        });
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
</body>
</html>